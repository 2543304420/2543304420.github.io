function getScroll(){var o=document.querySelectorAll(".box"),e=o.length-1,t=o[e].offsetTop;console.log(t);var n=document.documentElement.clientHeight,l=document.body.scrollTop;if(t<n+l)return!0}function imgLocation(){var o=document.querySelector(".container"),e=document.querySelectorAll(".box"),t=e[0].offsetWidth,n=document.body.clientWidth;console.log(n),console.log(t);var l=Math.floor(n/t);console.log(l);var c=t*l;console.log(c),o.style.width=c+"px";for(var i=[],r=0;r<e.length;r++)if(r<l)i[r]=e[r].offsetHeight,console.log(i);else{var g=Math.min.apply(null,i);e[r].style.position="absolute",e[r].style.top=g+"px";var a=getMinHightLocation(i,g);e[r].style.left=e[a].offsetLeft+"px",console.log(a),console.log(g),i[a]=i[a]+e[r].offsetHeight}console.log(i)}function getMinHightLocation(o,e){for(var t in o)if(o[t]===e)return t}window.onload=function(){imgLocation();var o=["1.jpg","2.jpg","3.jpg","4.jpg","5.jpg","6.jpg","7.jpg","8.jpg","9.jpg","10.jpg"];window.onscroll=function(){if(getScroll()){for(var e=0;e<o.length;e++){var t=document.querySelector(".container"),n=document.createElement("div");n.className="box",t.appendChild(n);var l=document.createElement("img");l.src="images/"+o[e],n.appendChild(l)}imgLocation()}}};